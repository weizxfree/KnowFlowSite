# 更新日志

## [v2.3.0] - 2025-12-19

### 新增
- 适配 ragflow v0.22.1，全新的 UI 设计体验
- Mineu 升级到 v2.6.5 版本，Mineru/PaddleOCR 支持从模型端运行时配置，无需部署配置
- 新增支持多模态视频解析

### 优化
- 优化 smart/parent_child 分块方法连续标题自动合并
- 图文混排：支持将图片进行提前占位，后续再还原图片，保证图片顺序、降低对模型的依赖
- 新增离线 license 管控
- 新增 RBAC 权限管理移植到 RAGFlow admin 后台管理中

### 修复
- 知识库导入导出支持父子分块


## [v2.1.9] - 2025-11-23

### 新增
- 支持知识库导入导出功能



## [v2.1.8] - 2025-11-17

### 新增
- 支持新增 paddleocr vl 模型
- 父子分块支持预览和编辑
- mineru/dots/paddleocr 支持 markdown 文件格式
- 聊天页面图片支持点击放大预览

### 修复

- 修复 rbac 可能重复初始化问题，导致超级管理员数据生成双份

### 优化

- 系统页面新增显示版本号信息
- UI 主界面微调





## [v2.1.7] - 2025-10-29

### 新增
- 支持快捷接入 dify 
- 支持对分块内容添加父级标题，解决分块上下文问题
- title 切片方法支持手动设置分割层级

### 修复

- PPT 解析时候 `re` 报错问题
- 修复 id:x 在极端情况下未显示引用的问题
- 修复 datasets api 无法直接传入 smart/regex/title/parent_child 分块方法

### 优化

- 图片理解新增支持上下文信息：将图片上下文以及标题信息输入给视觉模型，增强图片识别的业务语义
- Mineru/Dots 图片和表格的 captiton 和图片/标题内容关联，避免被分割到不同块
- chunk 的分块顺序由 top 更改为 mineru 解析的 block 顺序，适配论文等双栏布局场景




## [v2.1.6] - 2025-10-20

### 新增
- 全新 UI 和交互效果，遵循企业级 2b 产品设计规范
- 新增以文搜图功能，支持对 MinerU/Dots 图片进行语义理解，实现搜图需求
- 完成 API 自动化测试，支持通过 api key 访问 系统所有公开 API 

### 修复

- 移除 Mineru/Dots/gotenberg 的超时限制，默认不再设置超时
- 修复聊天引用可能出现的删除线问题
- 修复 mineru/dots 分块大小修改失效问题

### 优化

- 父子分块追加在子标题下面增加父标题，以获取更加完整的上下文语义；优化父子检索复用已有的 retrival 接口
- 聊天助手默认提示词优化，支持默认显示图文输出
- 优化创建知识库默认加载 mineru PDF 解析器和 smart 分块方法
- 父子模式在调试模式下，支持输出父子分块内容和映射关系
- Mineru/Dots 仅允许选择 smart/regex/title/parent_child 分块方法




## [v2.1.5] - 2025-10-10

### 新增
-  @login_required 装饰器自动支持 API Key 访问
- 分块支持预览公式

### 修复

- 修复知识库管理创建知识库不正确的 parse_id，导致知识库配置页面白屏
- 修复超级管理员默认没有配置父子分块等切片方法]


### 优化

- 进一步优化部署，配置项优化



## [v2.1.4] - 2025-10-05

### 新增
- 适配 MinerU v2.5.4 版本，支持 vlm 模式和 pipline 模式
- MinerU/Dots 调整为布局解析器，Smart/regex/parent_child/title 调整为切片方法

### 修复

- 坐标映射从文本相似度调整为基于 block 数据按行映射，100% 准确
- 修复 flow 创建失败的问题

### 优化

- RBAC 权限检查优化为批量检查，提升网页响应速度
- 分块预览支持 MarkDown ，支持标题、公式、列表渲染


## [v2.1.3] - 2025-09-23

### 新增
- 适配 RAGFlow v0.20.5 

### 修复

- 修复知识库对单个用户重复授权失败问题
- 修复用户管理可以添加相同邮箱的用户

### 优化

- 多轮对话默认关闭
- 提示词默认为中文
- 父子分块在父子映射失败场景下，默认采用子块，而不是丢弃。



## [v2.1.2] - 2025-09-15

### 新增
- 新增 Dots 解析，支持坐标溯源
- RBAC 超级管理员可授权管理员新创建用户、团队、知识库、用户配置等

### 修复

- 修复搜索页面无法正常生效问题
- 修复 Agent 分享 404 问题
- 修复知识库文件删除后，父子分块残留的问题
- 修复超级管理员无法上传文件问题

### 优化

- 用户配置管理的聊天模型和嵌入模型从已配置模型获取
- 优化批量解析交互，已解析文件支持重新解析
- 聊天会话自动滚动到底部



## [v2.1.0] - 2025-08-27

### 新增
- 公开对外 API ，含 RAGFlow、MinerU、RBAC 等功能
- 知识库创建时新增支持设置 mineru 分块策略,以便于批量管理
- MinerU 文件解析支持批量串行解析
- 知识库管理页面新增支持父子分块

### 修复

- 修复 winodws 平台下因 mineru 编码导致文件解析失败问题
- 修复 excel mineru 解析异常问题
- 修复 mineru 后端参数未指定，只能使用 pipline 问题

### 优化

- 优化父子分块库表自动初始化
- 撰写新官网文档和录制 B 站视频



## [v2.0.9] - 2025-08-27

### 新增
- MinerU 解析方法支持父子分块

### 优化
- 分块中 Table 表格也可以坐标溯源
- 分块调整最大长度限制


## [v2.0.8] - 2025-08-22
### 修复
- 修复 rabc 初始化依赖 mysql 部分表建立的问题


## [v2.0.6] - 2025-08-21

### 新增
- 适配 RAGFlow v0.20.1 版本

### 优化
- 前端新增可打断会话
- 默认不支持注册


## [v2.0.4] - 2025-08-18

### 新增
- 支持 RBAC 权限管理系统

### 优化
- MinerU 分块增加重试逻辑


## [v2.0.3] - 2025-08-10

### 新增
- MinerU 基于官方 v2.1.10 最新版本进行构建，支持纯离线部署
- knowflow-server 后端服务支持纯离线部署
- 支持本地离线部署 GPUStack 对接 RAGFlow

### 优化
- 支持 docker-compose-gpu yml 启动 knowflow server


## [v2.0.2] - 2025-8-03

### 新增
- MinerU 支持知识图谱、自动问题、自动关键字
- MinerU 解析时支持取消

### 修复
- 修复 MinerU 分块后可能存在的排序村乱问题
- 修复 logo 点击跳转错误问题

### 优化
- 优化设置页面宽度
- minio 通过相对路径代理访问图片地址，无需额外配置 ip


## [v2.0.0] - 2025-07-20

### 新增
- 完成和 RAGFlow 的融合


## [v1.1.6] - 2025-07-18

### 优化
- 优化大文件获取 block 位置速度国慢的问题


## [v1.1.5] - 2025-07-14

### 新增
- 架构调整：KnowFlow 支持通过 Plugin 和 Patch 和 RAGFlow 进行通信
- 支持批量添加 chunk，大幅度优化文档分块和向量化性能


### 优化
- 去除 API_KEY 配置，通过数据库查询获取


### 修复
- excel 解析失败问题



## [v1.1.3] - 2025-07-09

### 新增
- MinerU 升级到 v2.1.0

### 修复
- Docker 镜像里缺失 pandas 库
- ragflow 登录的用户非 ragflow 第一个新建用户时知识库权限报错
- 修复 MineU 2.0 中存在特殊字符导致无法正常返回解析数据缺陷


## [v1.1.0] - 2025-07-02

### 新增
- 开源 ragflow 前端源码，用于替换 ragflow 前端界面

### 修复
- 修复 fastapi 只支持 pdf 文件格式问题



## [v1.0.1] - 2025-06-30

### 修复
- 修复 config.yaml 中 server_url 配置未生效的问题


## [v1.0.0] - 2025-06-30

### 新增
- 支持 MinerU 2.0 三种模式接入


## [v0.8.0] - 2025-06-19

### 新增
- 新增 Excel 分块增强
- 优化配置项

## [v0.7.0] - 2025-06-12

### 修复
- 修复 Minio 设置公开策略无效问题
- 修复 MinerU 模型挂载失败问题

## [v0.6.0] - 2025-06-11

### 新增
- 修复策略不能切换的问题
- 优化默认分块大小为 256


## [v0.5.0] - 2025-06-10

### 新增
- 支持 Markdown 智能分块和标题分块策略
- 三方接入支持自动创建会话

## [v0.4.0] - 2025-05-29（兼容 RAGFlow v0.19.0）
### 新增
- 支持更多的文件格式，包含 doc、ppt、docx、url、excel 等文件格式
- Markdown 文件分块规则和官方保持一致，支持图片和表格向量化

### 优化
- 简化配置流程，避免配置错误导致链接失败
- 支持在 .env 配置是否保存 MinerU 生成产物


## [v0.3.0] - 2025-05-02（兼容 RAGFlow v0.18.0）
### 新增
- 开源 KnowFlow 前端 dist 产物
- 移除了向量模型配置，默认为最后更新的向量模型
- 适配 RAGFlow v0.18.0


## [v0.2.0] - 2025-04-24（仅支持源码，镜像包尚未构建）
### 新增
- 适配 RAGFlow Plus 的知识库管理
- 支持自定义 chunk 以及坐标回溯
- 支持企业微信三方接入


## [v0.1.2] - 2025-04-17
### 新增
- 图文回答支持在前端页面一键解析，无需复杂配置

## [v0.1.1] - 2025-04-11
### 新增
- 回答结果支持图片展示

## [v0.1.0] - 2025-04-10
### 新增
- 用户后台管理系统（用户管理、团队管理、模型配置管理）
