---
sidebar_position: 2
---

# 功能使用常见问题

:::info 文档说明
本文档解答 KnowFlow 功能使用过程中的常见问题，包括图文混排、用户管理、企业微信集成等。
:::

## 📄 图文混排功能

### 📁 Q: 图文混排功能支持哪些文件格式？

**A:** 支持市面上常见的文件格式：

| 文件类型 | 支持格式 | 说明 |
|---------|---------|------|
| **演示文稿** | ppt, pptx | PowerPoint 文件 |
| **文档** | word, doc, docx | Word 文档 |
| **电子表格** | excel, xlsx | Excel 表格 |
| **图像** | png, jpg, jpeg | 常见图片格式 |
| **其他** | pdf, txt, md | PDF、文本、Markdown |

:::tip 格式支持
所有格式均支持图文混排解析，保持原有的版式和图文关联关系。
:::

### 🧩 Q: 图文混排的分块策略有哪些？

**A:** 保持和官方 markdown 完全一致的分块规则，提供三种分块策略：

| 分块策略 | 特点 | 适用场景 |
|---------|------|----------|
| **文档结构分块** | 基于文档的原始结构进行分块 | 结构化文档 |
| **按标题分块** | 根据文档中的标题层级进行分块 | 有明确标题层次的文档 |
| **RAGFlow 原分块** | 使用 RAGFlow 官方的分块算法 | 通用文档处理 |

:::note 分块原则
所有分块策略都保持与官方 markdown 格式的完全一致性。
:::

### 🔗 Q: 图文混排功能如何与知识库系统集成？

**A:** 无缝对接 RAGFlow 知识库系统：

| 集成特性 | 功能说明 |
|---------|----------|
| **自动解析** | 文档自动解析和分块 |
| **关联保持** | 保持图文关联关系 |
| **检索支持** | 支持多种检索模式 |
| **结构兼容** | 兼容原有知识库结构 |

:::tip 集成优势
完全兼容 RAGFlow 原有功能，无需修改现有知识库结构。
:::

### 🖼️ Q: 聊天助手无法显示图片怎么办？

**A:** 图文混排功能中，聊天助手的提示词配置很重要，配置不正确会无法显示图片。

#### 推荐提示词模板：
```
请参考{knowledge}内容回答用户问题。
如果知识库内容包含图片，请在回答中包含图片URL。
注意这个 html 格式的 URL 是来自知识库本身，URL 不能做任何改动。
请确保回答简洁、专业，将图片自然地融入回答
```

:::warning 重要提醒
- 图片 URL 必须保持原样，不能做任何修改
- 提示词中必须明确要求包含图片 URL
- 建议在测试环境先验证提示词效果
:::

## 用户管理系统

### ⚙️ Q: 新建用户时的默认配置是什么？

**A:** 新建用户时具有以下特点：

| 配置项 | 默认设置 | 说明 |
|--------|---------|------|
| **团队归属** | 自动加入创建时间最早用户的团队 | 确保新用户有团队归属 |
| **模型配置** | 采用最早用户相同的模型配置 | 保持配置一致性 |
| **资源共享** | 可以共享团队内的知识库资源 | 团队协作支持 |

:::tip 配置建议
建议在创建用户后，根据实际需求调整用户的团队归属和模型配置。
:::

### 🔐 Q: 如何管理用户权限？

**A:** 用户后台管理系统提供以下管理功能：

| 管理功能 | 具体操作 | 权限范围 |
|---------|---------|----------|
| **用户管理** | 创建、编辑、删除用户 | 全局用户 |
| **团队管理** | 管理用户所属团队 | 团队成员 |
| **模型配置管理** | 配置用户的模型参数 | 个人配置 |
| **权限控制** | 控制用户访问权限 | 功能权限 |

:::info 权限说明
管理员可以通过后台系统对所有用户进行统一管理和权限分配。
:::

### 🚪 Q: 原登录页的用户注册功能去哪了？

**A:** 为了更好的企业级管理，已移除原登录页用户注册通道，改为通过后台管理系统进行用户管理。

#### 变更优势：
| 优势 | 说明 |
|------|------|
| **统一管理** | 统一用户管理入口 |
| **权限控制** | 更好的权限控制 |
| **企业级** | 符合企业级应用需求 |
| **安全性** | 避免恶意注册 |

:::note 管理方式
现在所有用户都需要通过管理员在后台系统中创建。
:::

## 💬 企业微信集成

### ⚙️ Q: 如何配置企业微信应用？

**A:** KnowFlow 支持企业微信应用集成，可将企业微信应用作为聊天机器人使用。

#### 配置步骤：
1. 参照项目中的 `server/services/knowflow/README.md` 文件
2. 按照文档说明进行配置
3. 完成企业微信应用设置

:::tip 配置文档
详细配置方式请参照项目中的 `server/services/knowflow/README.md` 文件说明。
:::

### 🌟 Q: 企业微信应用有什么优势？

**A:** 企业微信集成的优势：

| 优势特点 | 具体说明 |
|---------|----------|
| **无缝集成** | 直接在企业微信中使用 |
| **便捷访问** | 无需额外安装应用 |
| **统一管理** | 与企业现有系统集成 |
| **安全可控** | 企业级安全保障 |

:::tip 使用建议
企业微信集成特别适合已使用企业微信的组织，可以显著降低用户使用门槛。
:::

## 🔄 兼容性问题

### 🔗 Q: KnowFlow 与 RAGFlow 的兼容性如何？

**A:** KnowFlow 具有以下兼容性特点：

| 兼容特性 | 具体说明 |
|---------|----------|
| **持续兼容** | 持续兼容 RAGFlow 官方版本 |
| **版本基础** | 基于 RAGFlow v0.18.0 二次开发，目前已适配 v0.19.0 |
| **插件化架构** | 无缝兼容 RAGFlow 任意版本 |
| **零入侵增强** | 通过 Plugin & Patch 机制增强功能 |

:::info 兼容说明
采用插件化设计，确保与 RAGFlow 官方版本的持续兼容。
:::

### 🔄 Q: 升级 RAGFlow 版本会影响 KnowFlow 吗？

**A:** 不会影响，KnowFlow 采用插件化架构设计：

| 设计特点 | 保障措施 |
|---------|----------|
| **热插拔** | 所有增强均可热插拔 |
| **升级无忧** | 平滑升级机制 |
| **代码保护** | 不破坏原生代码 |
| **向后兼容** | 保持向后兼容性 |

:::tip 升级建议
建议在升级前备份配置文件，升级后验证功能正常性。
:::

## ⚡ 性能优化

### 🚀 Q: 如何优化文档解析性能？

**A:** 可以通过以下方式优化性能：

| 优化层面 | 具体措施 | 效果 |
|---------|---------|------|
| **分块策略** | 根据文档类型选择最优分块方式 | 提升解析精度 |
| **模型配置** | 选择适合的嵌入模型和聊天模型 | 平衡性能与效果 |
| **硬件优化** | 使用 GPU 加速（如果可用）| 显著提升速度 |
| **批量处理** | 对大量文档进行批量解析 | 提高处理效率 |

### 📁 Q: 大文件处理有什么建议？

**A:** 处理大文件时的建议：

| 建议项 | 具体措施 |
|--------|----------|
| **资源准备** | 确保有足够的内存和存储空间 |
| **文件拆分** | 考虑将大文件拆分为较小的部分 |
| **批量模式** | 使用批量处理模式 |
| **监控管理** | 监控解析进度和系统资源使用情况 |

:::warning 大文件处理
处理超大文件时，建议先在测试环境验证处理能力，避免生产环境资源耗尽。
:::